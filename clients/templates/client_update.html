{% extends "base.html" %}
{% load staticfiles %}

{% block css_files %}
<link rel="stylesheet" type="text/css" href="{% static 'components/checkbox.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'components/dropdown.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'components/popup.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/calendar.min.css' %}">
{% endblock css_files %}

{% block title %}
    <h1>Atualizar cliente</h1>
{% endblock title %}


{% block body %}
 <div class="row">
     <div class="column">
         <h2 class="ui teal image header">
            <img src="{% static 'logo.svg' %}" class="image">
            <div class="content">
                Preencha todos os campos com cuidado
            </div>
         </h2>
            {% if form.errors %}
                {% for error in form.non_field_errors %}
                    <div class="ui error message">
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endif %}
         <form class="ui large form" method="POST">
               
                
             {% csrf_token %}
             <div class="ui stacked segment">
                <div class="field">
                        <label>{{ form.name.label }}</label>
                        
                        {{ form.name }}
                        {% if form.name.errors %}
                            <div class="ui negative message">
                                    <ol>
                                    {% for error in form.name.errors %}
                                        <ol><strong>{{ error|escape }}</strong></ol>
                                    {% endfor %}
                                    </ol>    
                            </div>
                            
                        {% endif %}
                </div>
                <div class="ui segment"> <!-- Identification segment Dados pessoais-->
                <h4 class="ui header">Dados Pessoais </h4>
                    
                <div class="field">
                        <div class="ui calendar" id="birthday">
                            <label>{{ form.birthday.label }}</label>
                            <div class="ui input left icon">
                                <i class="calendar icon"></i>                                
                                {{ form.birthday }}
                            </div>
                            {% if form.birthday.errors %}
                                <div class="ui negative message">
                                        <ol>
                                        {% for error in form.birthday.errors %}
                                            <ol><strong>{{ error|escape }}</strong></ol>
                                        {% endfor %}
                                        </ol>    
                                </div>
                                
                            {% endif %}
                        </div>
                      
                    <div class="field">
                            <label>{{ form.gender.label }}</label>
                            
                            {{ form.gender }}
                            {% if form.gender.errors %}
                                <div class="ui negative message">
                                        <ol>
                                        {% for error in form.gender.errors %}
                                            <ol><strong>{{ error|escape }}</strong></ol>
                                        {% endfor %}
                                        </ol>    
                                </div>
                                
                            {% endif %}
                    </div>
                    <div class="field">
                            <label>{{ form.cpf.label }}</label>
                            
                            {{ form.cpf }}
                            {% if form.cpf.errors %}
                                <div class="ui negative message">
                                        <ol>
                                        {% for error in form.cpf.errors %}
                                            <ol><strong>{{ error|escape }}</strong></ol>
                                        {% endfor %}
                                        </ol>    
                                </div>
                                
                            {% endif %}
                    </div>
                    <div class="two fields">
                        <div class="field">
                            <label>{{ form.rg.label }}</label>
                            
                            {{ form.rg }}
                            {% if form.rg.errors %}
                                <div class="ui negative message">
                                        <ol>
                                        {% for error in form.rg.errors %}
                                            <ol><strong>{{ error|escape }}</strong></ol>
                                        {% endfor %}
                                        </ol>    
                                </div>
                                
                            {% endif %}
                        </div>
                        <div class="field">
                            <label>{{ form.rg_issuer.label }}</label>
                            
                            {{ form.rg_issuer }}
                            {% if form.rg_issuer.errors %}
                                <div class="ui negative message">
                                        <ol>
                                        {% for error in form.rg_issuer.errors %}
                                            <ol><strong>{{ error|escape }}</strong></ol>
                                        {% endfor %}
                                        </ol>    
                                </div>
                                
                            {% endif %}
                        </div>
                    </div> <!-- Two Fields for RG-->
                </div> <!-- UI Segment dados pessoais END-->

                <div class="ui segment">
                    <h4 class="ui header">Endereço</h4><!-- UI Segment dados Endereço BEGIN-->
                    <div class="field">
                        <label>{{ form.address.label }}</label>
                        
                        {{ form.address }}
                        {% if form.address.errors %}
                            <div class="ui negative message">
                                    <ol>
                                    {% for error in form.address.errors %}
                                        <ol><strong>{{ error|escape }}</strong></ol>
                                    {% endfor %}
                                    </ol>    
                            </div>
                            
                        {% endif %}
                    </div>
                    <div class="field">
                        <label>{{ form.address_bairro.label }}</label>
                        
                        {{ form.address_bairro }}
                        {% if form.address_bairro.errors %}
                            <div class="ui negative message">
                                    <ol>
                                    {% for error in form.address_bairro.errors %}
                                        <ol><strong>{{ error|escape }}</strong></ol>
                                    {% endfor %}
                                    </ol>    
                            </div>
                            
                        {% endif %}
                    </div>
                    <div class="field">
                        <label>{{ form.postal_code.label }}</label>
                        
                        {{ form.postal_code }}
                        {% if form.postal_code.errors %}
                            <div class="ui negative message">
                                    <ol>
                                    {% for error in form.postal_code.errors %}
                                        <ol><strong>{{ error|escape }}</strong></ol>
                                    {% endfor %}
                                    </ol>    
                            </div>
                            
                        {% endif %}
                    </div>

                </div><!-- UI Segment dados Endereço END-->
                <div class="ui segment">
                <h4 class="ui header">Contato</h4>
                    <div class="two fields">
                    <div class="field">
                            <label>{{ form.phonenumber.label }}</label>
                            
                            {{ form.phonenumber }}
                            {% if form.phonenumber.errors %}
                                <div class="ui negative message">
                                        <ol>
                                        {% for error in form.phonenumber.errors %}
                                            <ol><strong>{{ error|escape }}</strong></ol>
                                        {% endfor %}
                                        </ol>    
                                </div>
                                
                            {% endif %}
                    </div>
                    <div class="field">
                        <label>{{ form.phonenumber_2.label }}</label>
                        
                        {{ form.phonenumber_2 }}
                        {% if form.phonenumber_2.errors %}
                            <div class="ui negative message">
                                    <ol>
                                    {% for error in form.phonenumber_2.errors %}
                                        <ol><strong>{{ error|escape }}</strong></ol>
                                    {% endfor %}
                                    </ol>    
                            </div>
                            
                        {% endif %}
                    </div>
                </div>
                    <div class="field">
                        <label>{{ form.email.label }}</label>
                        
                        {{ form.email }}
                        {% if form.email.errors %}
                            <div class="ui negative message">
                                    <ol>
                                    {% for error in form.email.errors %}
                                        <ol><strong>{{ error|escape }}</strong></ol>
                                    {% endfor %}
                                    </ol>    
                            </div>
                            
                        {% endif %}
                </div>
                
                </div>

                <button type="submit" class="ui fluid large teal submit button">Salvar</button>   
             </div>
         </form>
     </div>
 </div>
{% endblock body %}

{% block js_files %}
<script src="{% static 'js/jquery-mask.js' %}"></script>
<script src="{% static 'components/dropdown.js' %}"></script>
<script src="{% static 'components/popup.js' %}"></script>
<script src="{% static 'js/calendar.min.js' %}"></script>
{% endblock js_files %}

{% block js_scripts %}
<script>
    $(document).ready(function () {
            $('.ui.dropdown').dropdown();
        });
$('#birthday').calendar({
    type: 'date',
    formatter: {
    date: function (date, settings) {
      if (!date) return '';
      var day = date.getDate();
      var month = date.getMonth() + 1;
      var year = date.getFullYear();
      return day + '/' + month + '/' + year;
    }},
});
var PhoneMaskBehavior = function (val) {
      return val.replace(/\D/g, '').length === 11 ? '(00)00000-0000' : '(00)0000-00009';
    },
    phoneOptions = {
      onKeyPress: function(val, e, field, options) {
        field.mask(PhoneMaskBehavior.apply({}, arguments), options);
      }
    };
$('#id_cpf').mask('000.000.000-00');
$('#id_phonenumber').mask(PhoneMaskBehavior,phoneOptions);
$('#id_phonenumber_2').mask(PhoneMaskBehavior,phoneOptions);
</script>

{% endblock js_scripts %}